<div class="category-form-shell">
  <div
    *ngIf="toastMessage"
    class="app-toast"
    [ngClass]="[
      'show',
      toastType === 'success'
        ? 'app-toast--success'
        : toastType === 'info'
        ? 'app-toast--info'
        : 'app-toast--error'
    ]"
    [style.top.px]="toastOffset"
  >
    {{ toastMessage }}
  </div>

  <div class="form-card">
    <div class="form-card__header">
      <div>
        <p class="form-eyebrow">Category</p>
        <h3 class="form-title">{{ category ? 'Edit Category' : 'Add New Category' }}</h3>
        <p class="form-subtitle">Keep your category names clear and easy to scan.</p>
      </div>
      <button class="icon-btn" type="button" (click)="onCancel()" aria-label="Close">
        Ã—
      </button>
    </div>

    <form (ngSubmit)="onSubmit()" class="form-grid">
      <div class="field">
        <label for="name" class="field__label">Category Name *</label>
        <input
          id="name"
          name="name"
          type="text"
          [(ngModel)]="formData.name"
          placeholder="e.g., Process Improvement"
          class="field__control"
          required
        />
      </div>

      <div class="field">
        <label for="description" class="field__label">Description</label>
        <textarea
          id="description"
          name="description"
          rows="3"
          [(ngModel)]="formData.description"
          placeholder="Describe this category..."
          class="field__control field__control--textarea"
        ></textarea>
      </div>

      <div class="field field--inline">
        <label class="switch">
          <input type="checkbox" [(ngModel)]="formData.isActive" name="isActive" />
          <span class="switch__slider"></span>
        </label>
        <div class="switch__text">
          <span class="switch__title">Active</span>
          <span class="switch__hint">Visible in dropdowns</span>
        </div>
      </div>

      <div class="actions">
        <button type="button" class="btn btn--ghost" (click)="onCancel()">
          Cancel
        </button>
        <button type="submit" class="btn btn--primary">
          {{ category ? 'Update' : 'Create' }} Category
        </button>
      </div>
    </form>
  </div>
</div>
