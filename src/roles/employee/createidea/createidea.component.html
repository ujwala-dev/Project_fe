<div class="container mx-auto px-4 py-12 max-w-2xl">
  <div class="mb-8">
    <a routerLink="/employee/dashboard" class="inline-flex items-center text-gray-500 hover:text-indigo-600 transition-colors mb-4 text-sm font-medium">
      <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
      Back to Dashboard
    </a>
    <h1 class="text-3xl font-extrabold text-gray-900 tracking-tight">Pitch Your Idea</h1>
    <p class="text-gray-600 mt-2">Share your innovation with the team.</p>
  </div>

  <div class="bg-white shadow-xl rounded-2xl overflow-hidden border border-gray-100">
    <div class="p-8 sm:p-10">
      <form [formGroup]="form" (ngSubmit)="submit()" class="space-y-8">
        
        <!-- Title -->
        <div class="space-y-2">
          <label class="block text-sm font-bold text-gray-700">
            Title <span class="text-red-500">*</span>
          </label>
          <input
            formControlName="title"
            placeholder="e.g., Automated Client Onboarding"
            class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400 text-gray-900 font-medium"
            [class.ring-2]="form.get('title')?.invalid && form.get('title')?.touched"
            [class.ring-red-500]="form.get('title')?.invalid && form.get('title')?.touched"
          />
          <div *ngIf="form.get('title')?.invalid && form.get('title')?.touched" class="text-red-500 text-sm flex items-center mt-1">
             <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
             Title is required.
          </div>
        </div>

        <!-- Description -->
        <div class="space-y-2">
           <label class="block text-sm font-bold text-gray-700">
            Description <span class="text-red-500">*</span>
          </label>
          <textarea
            formControlName="description"
            rows="6"
            placeholder="Describe the problem, your solution, and the expected impact..."
            class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400 text-gray-900 leading-relaxed"
            [class.ring-2]="form.get('description')?.invalid && form.get('description')?.touched"
            [class.ring-red-500]="form.get('description')?.invalid && form.get('description')?.touched"
          ></textarea>
           <div *ngIf="form.get('description')?.invalid && form.get('description')?.touched" class="text-red-500 text-sm flex items-center mt-1">
             <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
             Please provide at least 10 characters.
          </div>
        </div>

        <!-- Category -->
        <div class="space-y-2">
          <label class="block text-sm font-bold text-gray-700">Category<span class="text-red-500">*</span></label>
          <div class="relative">
             <select
              formControlName="categoryID"
              class="w-full appearance-none px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all text-gray-900"
              [class.ring-2]="form.get('categoryID')?.invalid && form.get('categoryID')?.touched"
[class.ring-red-500]="form.get('categoryID')?.invalid && form.get('categoryID')?.touched"
            >
              <option value="" disabled selected>Select a category...</option>
              <option *ngFor="let cat of categories" [value]="cat.categoryID">
  {{ cat.icon }} {{ cat.name }}
</option>
              
               </select>
             <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500">
              <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </div>
          </div>
          <div *ngIf="form.get('categoryID')?.invalid && form.get('categoryID')?.touched" class="text-red-500 text-sm flex items-center mt-1">
   <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
 
 
</div>
        </div>

        <!-- Manager Status Override (Conditional) -->
        <div *ngIf="currentRole === 'manager'" class="p-4 bg-yellow-50 rounded-xl border border-yellow-200">
          <label class="block text-sm font-bold text-yellow-800 mb-2">Initial Status (Manager Override)</label>
          <select
            formControlName="status"
            class="w-full px-3 py-2 bg-white border border-yellow-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm text-gray-900"
          >
            <option value="Draft">Draft</option>
            <option value="UnderReview">Under Review</option>
            <option value="Approved">Approved</option>
          </select>
        </div>

        <!-- Actions -->
        <div class="pt-4 flex items-center gap-4">
          <button
            type="button"
            routerLink="/employee/dashboard"
            class="px-6 py-3 border border-gray-300 rounded-xl text-gray-700 font-semibold hover:bg-gray-50 transition-colors focus:ring-2 focus:ring-gray-200"
          >
            Cancel
          </button>
          <button
            type="submit"
            [disabled]="form.invalid"
            class="flex-1 px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-indigo-500/30"
          >
            Submit Idea
          </button>
        </div>
      </form>
    </div>
  </div>
</div>